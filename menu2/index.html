<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/css/jtd.css"> <link rel=icon  href="/assets/favicon.ico"> <link rel=stylesheet  href="/css/weave.css"> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}, TeX: { equationNumbers: { autoNumber: "AMS" } } }); </script> <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> <title>More goodies</title> <div class=page-wrap > <div class=side-bar > <div class=header > <a href="/" class=title > Franklin </a> </div> <label for=show-menu  class=show-menu >MENU</label> <input type=checkbox  id=show-menu  role=button > <div class=menu  id=side-menu > <ul class=menu-list > <li class="menu-list-item "><a href="/" class="menu-list-link ">Home</a> <li class="menu-list-item "><a href="/menu1/" class="menu-list-link ">Weave Example</a> <li class="menu-list-item active"><a href="/menu2/" class="menu-list-link active">More goodies</a> <li class="menu-list-item "><a href="/menu3/" class="menu-list-link ">Tags</a> <ul class="menu-list-child-list "> <li class="menu-list-item "><a href="#" class=menu-list-link >Submenu</a> </ul> </ul> </div> <div class=footer > This is <em>Just the docs</em>, adapted from the <a href="https://github.com/pmarsceill/just-the-docs" target=_blank >Jekyll theme</a>. </div> </div> <div class=main-content-wrap > <div class=main-content > <div class=main-header > <a id=github  href="//github.com/tlienart/Franklin.jl">Franklin on GitHub</a> </div> <div class=franklin-content > <div class ="container"> <div class = "row"> <div class = "col-md-12 twelve columns"> <div class=title > <h1 class=title >Javis with Weave, Earth Venus Cosmic Dance</h1> <h5>Ved Mahajan</h5> </div> <pre class='hljl'>
<span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>Javis</span>
</pre> <h1>Defines some functions.</h1> <p>In this section we will define some function to make our animation easy to make.</p> <h2>Function for the background.</h2> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>ground</span><span class='hljl-p'>(</span><span class='hljl-n'>args</span><span class='hljl-oB'>...</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>background</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;black&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-cs'># canvas background</span><span class='hljl-t'>
    </span><span class='hljl-nf'>sethue</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;white&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-cs'># pen color</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <h2>Function to make the planets</h2> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>object</span><span class='hljl-p'>(</span><span class='hljl-n'>r</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>O</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;black&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>sethue</span><span class='hljl-p'>(</span><span class='hljl-n'>color</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>circle</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>r</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:fill</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <h2>Function to make the orbits</h2> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>circ</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>O</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;black&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-sc'>:fill</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>radius</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>25</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>edge</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;solid&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>sethue</span><span class='hljl-p'>(</span><span class='hljl-n'>color</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>setdash</span><span class='hljl-p'>(</span><span class='hljl-n'>edge</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>circle</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>radius</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <h2>Function to make the connectors.</h2> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>connector!</span><span class='hljl-p'>(</span><span class='hljl-n'>connection</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>p1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>p2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>sethue</span><span class='hljl-p'>(</span><span class='hljl-n'>color</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>push!</span><span class='hljl-p'>(</span><span class='hljl-n'>connection</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>p1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>p2</span><span class='hljl-p'>])</span><span class='hljl-t'>
    </span><span class='hljl-nf'>map</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>-&gt;</span><span class='hljl-t'> </span><span class='hljl-nf'>line</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-sc'>:stroke</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>connection</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <h1>The Animation.</h1> <pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>make_animation</span><span class='hljl-p'>()</span><span class='hljl-t'>

    </span><span class='hljl-cs'># to store the connectors</span><span class='hljl-t'>
    </span><span class='hljl-n'>connection</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[]</span><span class='hljl-t'>

    </span><span class='hljl-n'>frames</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1000</span><span class='hljl-t'>

    </span><span class='hljl-cs'># setup the video</span><span class='hljl-t'>
    </span><span class='hljl-n'>myvideo</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Video</span><span class='hljl-p'>(</span><span class='hljl-ni'>500</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>500</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>Background</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>frames</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>ground</span><span class='hljl-p'>)</span><span class='hljl-t'>

    </span><span class='hljl-cs'># add the objects</span><span class='hljl-t'>
    </span><span class='hljl-n'>earth</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Object</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>frames</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>args</span><span class='hljl-oB'>...</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>-&gt;</span><span class='hljl-t'> </span><span class='hljl-nf'>object</span><span class='hljl-p'>(</span><span class='hljl-ni'>5</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>O</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;blue&quot;</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nf'>Point</span><span class='hljl-p'>(</span><span class='hljl-ni'>200</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>0</span><span class='hljl-p'>))</span><span class='hljl-t'>
    </span><span class='hljl-n'>venus</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Object</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>frames</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>args</span><span class='hljl-oB'>...</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>-&gt;</span><span class='hljl-t'> </span><span class='hljl-nf'>object</span><span class='hljl-p'>(</span><span class='hljl-ni'>4</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>O</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;red&quot;</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nf'>Point</span><span class='hljl-p'>(</span><span class='hljl-ni'>144</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>0</span><span class='hljl-p'>))</span><span class='hljl-t'>

    </span><span class='hljl-cs'># draw the orbits</span><span class='hljl-t'>
    </span><span class='hljl-n'>earth_orbit</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Object</span><span class='hljl-p'>((</span><span class='hljl-n'>args</span><span class='hljl-oB'>...</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>-&gt;</span><span class='hljl-t'> </span><span class='hljl-nf'>circ</span><span class='hljl-p'>(</span><span class='hljl-n'>O</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;white&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:stroke</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>200</span><span class='hljl-p'>))</span><span class='hljl-t'>
    </span><span class='hljl-n'>venus_orbit</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Object</span><span class='hljl-p'>((</span><span class='hljl-n'>args</span><span class='hljl-oB'>...</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>-&gt;</span><span class='hljl-t'> </span><span class='hljl-nf'>circ</span><span class='hljl-p'>(</span><span class='hljl-n'>O</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;white&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:stroke</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>144</span><span class='hljl-p'>))</span><span class='hljl-t'>

    </span><span class='hljl-cs'># move the planets</span><span class='hljl-t'>
    </span><span class='hljl-cs'># We need the planets to revolve according to their time periods.</span><span class='hljl-t'>
    </span><span class='hljl-cs'># Earth completes its one revolution in 365 days and Venus does that in 224.7 days.</span><span class='hljl-t'>
    </span><span class='hljl-cs'># Hence, we need to multiply (224.7/365) so that the time period matches properly i.e.,</span><span class='hljl-t'>
    </span><span class='hljl-cs'># when earth completes its full revolution, Venus has done (224.7/365) th of its revolution.</span><span class='hljl-t'>
    </span><span class='hljl-nf'>act!</span><span class='hljl-p'>(</span><span class='hljl-n'>earth</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>Action</span><span class='hljl-p'>(</span><span class='hljl-nf'>anim_rotate_around</span><span class='hljl-p'>(</span><span class='hljl-nfB'>12.5</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-n'>π</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>O</span><span class='hljl-p'>)))</span><span class='hljl-t'>
    </span><span class='hljl-nf'>act!</span><span class='hljl-p'>(</span><span class='hljl-n'>venus</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>Action</span><span class='hljl-p'>(</span><span class='hljl-nf'>anim_rotate_around</span><span class='hljl-p'>(</span><span class='hljl-nfB'>12.5</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-n'>π</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-nfB'>224.7</span><span class='hljl-t'> </span><span class='hljl-oB'>/</span><span class='hljl-t'> </span><span class='hljl-ni'>365</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>O</span><span class='hljl-p'>)))</span><span class='hljl-t'>

    </span><span class='hljl-cs'># draw the connectors</span><span class='hljl-t'>
    </span><span class='hljl-nf'>Object</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>frames</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>args</span><span class='hljl-oB'>...</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>-&gt;</span><span class='hljl-t'> </span><span class='hljl-nf'>connector!</span><span class='hljl-p'>(</span><span class='hljl-n'>connection</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>pos</span><span class='hljl-p'>(</span><span class='hljl-n'>earth</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nf'>pos</span><span class='hljl-p'>(</span><span class='hljl-n'>venus</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;#f05a4f&quot;</span><span class='hljl-p'>))</span><span class='hljl-t'>

    </span><span class='hljl-cs'># render</span><span class='hljl-t'>
    </span><span class='hljl-nf'>render</span><span class='hljl-p'>(</span><span class='hljl-n'>myvideo</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>pathname</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>pwd</span><span class='hljl-p'>()</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;cosmic_dance.gif&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <h1>Make the animation&#33;</h1> <pre class='hljl'>
<span class='hljl-nf'>make_animation</span><span class='hljl-p'>()</span>
</pre> <h1>Play Animation</h1> <pre class='hljl'>
<span class='hljl-k'>import</span><span class='hljl-t'> </span><span class='hljl-n'>Base64</span><span class='hljl-oB'>:</span><span class='hljl-t'> </span><span class='hljl-n'>base64encode</span><span class='hljl-t'>
</span><span class='hljl-k'>struct</span><span class='hljl-t'> </span><span class='hljl-n'>GIFFile</span><span class='hljl-t'>
    </span><span class='hljl-n'>f</span><span class='hljl-t'> </span><span class='hljl-cs'># filename?</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-n'>Base</span><span class='hljl-oB'>.</span><span class='hljl-nf'>show</span><span class='hljl-p'>(</span><span class='hljl-n'>io</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>::</span><span class='hljl-so'>MIME&quot;text/html&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-oB'>::</span><span class='hljl-n'>GIFFile</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>data</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>base64encode</span><span class='hljl-p'>(</span><span class='hljl-nf'>read</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-oB'>.</span><span class='hljl-n'>f</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>String</span><span class='hljl-p'>))</span><span class='hljl-t'>
    </span><span class='hljl-nf'>print</span><span class='hljl-p'>(</span><span class='hljl-n'>io</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;&quot;&quot;&lt;img src=&quot;data:image/gif;base64,</span><span class='hljl-si'>$data</span><span class='hljl-s'>&quot;&gt;&quot;&quot;&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>nothing</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre> <pre class='hljl'>
<span class='hljl-nf'>GIFFile</span><span class='hljl-p'>(</span><span class='hljl-nf'>pwd</span><span class='hljl-p'>()</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-s'>&quot;cosmic_dance.gif&quot;</span><span class='hljl-p'>)</span>
</pre> <HR/> <div class=footer > <p> Published from <a href=cosmic_dance.jmd >cosmic_dance.jmd</a> using <a href="http://github.com/JunoLab/Weave.jl">Weave.jl</a> v0.10.10 on 2022-01-02. </p> </div> </div> </div> </div> <div class=page-foot > <div class=copyright > &copy; THE AUTHOR. Last modified: January 02, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div> </div> </div> <!-- end of class page-wrap-->